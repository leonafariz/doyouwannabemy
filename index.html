<!doctype html>
<html lang="id" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ’• Mau Jadi Pacarku? ğŸ’•</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&amp;family=Quicksand:wght@400;600;700&amp;display=swap" rel="stylesheet">
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
    }
    
    .font-romantic {
      font-family: 'Dancing Script', cursive;
    }
    
    .font-cute {
      font-family: 'Quicksand', sans-serif;
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(5deg); }
    }
    
    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 20px rgba(236, 72, 153, 0.4); }
      50% { box-shadow: 0 0 40px rgba(236, 72, 153, 0.8); }
    }
    
    @keyframes heart-beat {
      0%, 100% { transform: scale(1); }
      25% { transform: scale(1.1); }
      50% { transform: scale(1); }
      75% { transform: scale(1.15); }
    }
    
    @keyframes sparkle {
      0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }
      50% { opacity: 1; transform: scale(1) rotate(180deg); }
    }
    
    .floating-heart {
      animation: float 3s ease-in-out infinite;
    }
    
    .pulse-button {
      animation: pulse-glow 2s ease-in-out infinite;
    }
    
    .heart-beat {
      animation: heart-beat 1.5s ease-in-out infinite;
    }
    
    .sparkle {
      animation: sparkle 2s ease-in-out infinite;
    }
    
    .runaway-btn {
      transition: all 0.05s ease-out;
      position: absolute;
    }
    
    .success-overlay {
      backdrop-filter: blur(10px);
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full font-cute">
  <div id="app-wrapper" class="h-full w-full overflow-auto relative"><!-- Animated Background -->
   <div class="absolute inset-0 bg-gradient-to-br from-pink-200 via-rose-300 to-red-300 overflow-hidden"><!-- Floating Hearts Background -->
    <div class="absolute inset-0 pointer-events-none" id="hearts-bg"></div><!-- Sparkles -->
    <div class="absolute top-10 left-10 text-2xl sparkle" style="animation-delay: 0s;">
     âœ¨
    </div>
    <div class="absolute top-20 right-20 text-xl sparkle" style="animation-delay: 0.5s;">
     âœ¨
    </div>
    <div class="absolute bottom-32 left-20 text-2xl sparkle" style="animation-delay: 1s;">
     âœ¨
    </div>
    <div class="absolute bottom-20 right-32 text-xl sparkle" style="animation-delay: 1.5s;">
     âœ¨
    </div>
   </div><!-- Main Content -->
   <div class="relative z-10 h-full flex flex-col items-center justify-center px-6 py-12"><!-- Decorative Top Hearts -->
    <div class="flex gap-4 mb-6"><span class="text-4xl floating-heart" style="animation-delay: 0s;">ğŸ’•</span> <span class="text-5xl floating-heart heart-beat" style="animation-delay: 0.2s;">â¤ï¸</span> <span class="text-4xl floating-heart" style="animation-delay: 0.4s;">ğŸ’•</span>
    </div><!-- Main Question Card -->
    <div class="bg-white/80 backdrop-blur-sm rounded-3xl p-8 md:p-12 shadow-2xl max-w-2xl w-full text-center border-4 border-pink-300"><!-- Name with Heart -->
     <div class="mb-4"><span class="text-5xl md:text-7xl font-romantic text-rose-500 drop-shadow-lg" id="crush-name"> Haii Zellyn </span> <span class="text-4xl ml-2 heart-beat inline-block">ğŸ’—</span>
     </div><!-- Question -->
     <p class="text-2xl md:text-3xl font-cute font-semibold text-rose-600 mb-10" id="main-question">mau ga jadi pacar aku?</p><!-- Buttons Container -->
     <div class="flex flex-col sm:flex-row gap-6 items-center justify-center relative min-h-[120px]" id="buttons-container"><!-- YES Button --> <button id="yes-btn" class="px-12 py-4 bg-gradient-to-r from-pink-500 to-rose-500 text-white text-2xl font-bold rounded-full pulse-button hover:from-pink-600 hover:to-rose-600 transform hover:scale-110 transition-transform duration-300 shadow-xl" onclick="showSuccess()"> ğŸ’– MAU! ğŸ’– </button> <!-- NO Button (Runaway) --> <button id="no-btn" class="runaway-btn px-10 py-4 bg-gray-300 text-gray-600 text-xl font-semibold rounded-full hover:bg-gray-400 shadow-lg"> GAK! ğŸ˜… </button>
     </div><!-- Cute Message -->
     <p class="mt-8 text-rose-400 text-sm font-medium italic">"Hati ini sudah memilih kamu..." ğŸ’Œ</p>
    </div><!-- Bottom Decorative -->
    <div class="flex gap-3 mt-8"><span class="text-3xl floating-heart" style="animation-delay: 0.1s;">ğŸŒ¹</span> <span class="text-3xl floating-heart" style="animation-delay: 0.3s;">ğŸ’</span> <span class="text-3xl floating-heart" style="animation-delay: 0.5s;">ğŸŒ¹</span>
    </div>
   </div><!-- Success Overlay (Hidden by default) -->
   <div id="success-overlay" class="fixed inset-0 z-50 hidden success-overlay bg-pink-500/90 flex-col items-center justify-center">
    <div class="text-center animate-bounce">
     <div class="text-8xl mb-6">
      ğŸ‰ğŸ’•ğŸ‰
     </div>
     <h1 class="text-5xl md:text-7xl font-romantic text-white drop-shadow-lg mb-4">YEAY!!!</h1>
     <p class="text-2xl md:text-3xl text-white font-cute font-semibold mb-2">Kamu sekarang pacarku!</p>
     <p class="text-xl text-pink-100 font-cute">Terima kasih sudah mau menerima aku ğŸ’—</p>
     <div class="mt-8 flex gap-4 justify-center text-5xl"><span class="heart-beat">â¤ï¸</span> <span class="heart-beat" style="animation-delay: 0.2s;">ğŸ’•</span> <span class="heart-beat" style="animation-delay: 0.4s;">â¤ï¸</span>
     </div>
    </div><!-- Confetti Hearts -->
    <div id="confetti-container" class="absolute inset-0 pointer-events-none overflow-hidden"></div>
   </div>
  </div>
  <script>
    const defaultConfig = {
      crush_name: '(Nama Cewe)',
      main_question: 'mau ga jadi pacar aku?',
      primary_color: '#ec4899',
      secondary_color: '#f43f5e',
      text_color: '#be123c',
      background_start: '#fbcfe8',
      background_end: '#fda4af'
    };

    let config = { ...defaultConfig };

    // Run away button logic - super sensitive to mouse!
    let runAwayTimer = null;
    
    function checkMouseDistance(e) {
      const btn = document.getElementById('no-btn');
      if (!btn) return;
      
      const btnRect = btn.getBoundingClientRect();
      const btnCenterX = btnRect.left + btnRect.width / 2;
      const btnCenterY = btnRect.top + btnRect.height / 2;
      
      const mouseX = e.clientX;
      const mouseY = e.clientY;
      
      const distance = Math.sqrt(
        Math.pow(mouseX - btnCenterX, 2) + Math.pow(mouseY - btnCenterY, 2)
      );
      
      // Kabur kalau mouse dalam radius 150px (super sensitif!)
      if (distance < 150) {
        runAway(mouseX, mouseY, btnCenterX, btnCenterY);
      }
    }
    
    function runAway(mouseX, mouseY, btnX, btnY) {
      const btn = document.getElementById('no-btn');
      const container = document.getElementById('buttons-container');
      const containerRect = container.getBoundingClientRect();
      
      // Hitung arah lari (berlawanan dari mouse)
      const dx = btnX - mouseX;
      const dy = btnY - mouseY;
      const angle = Math.atan2(dy, dx);
      
      // Kabur dengan jarak random yang lebih jauh
      const distance = 150 + Math.random() * 100;
      let newX = Math.cos(angle) * distance;
      let newY = Math.sin(angle) * distance;
      
      // Pastikan gak keluar dari container
      const maxX = containerRect.width / 2 - 80;
      const maxY = 100;
      
      newX = Math.max(-maxX, Math.min(maxX, newX));
      newY = Math.max(-maxY, Math.min(maxY, newY));
      
      btn.style.left = `calc(50% + ${newX}px)`;
      btn.style.top = `calc(50% + ${newY}px)`;
      btn.style.transform = 'translate(-50%, -50%)';
      
      // Ganti text kadang-kadang
      if (Math.random() > 0.7) {
        const texts = ['GAK! ğŸ˜…', 'Yakin? ğŸ¥º', 'Pilih MAU dong ğŸ’•', 'Jangan gini ğŸ˜­', 'Aku sedih ğŸ¥¹', 'Eits! ğŸ˜', 'Gabisa! ğŸ™ˆ'];
        btn.textContent = texts[Math.floor(Math.random() * texts.length)];
      }
    }
    
    // Track mouse movement continuously
    document.addEventListener('mousemove', checkMouseDistance);
    
    // Untuk touch devices
    document.addEventListener('touchmove', (e) => {
      if (e.touches.length > 0) {
        checkMouseDistance({
          clientX: e.touches[0].clientX,
          clientY: e.touches[0].clientY
        });
      }
    });

    // Success screen
    function showSuccess() {
      const overlay = document.getElementById('success-overlay');
      overlay.classList.remove('hidden');
      overlay.classList.add('flex');
      createConfetti();
    }

    // Create confetti hearts
    function createConfetti() {
      const container = document.getElementById('confetti-container');
      const hearts = ['â¤ï¸', 'ï¿½ï¿½ï¿½ï¿½', 'ğŸ’–', 'ğŸ’—', 'ğŸ’', 'ğŸŒ¹', 'âœ¨'];
      
      for (let i = 0; i < 50; i++) {
        setTimeout(() => {
          const heart = document.createElement('div');
          heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
          heart.className = 'absolute text-2xl md:text-4xl';
          heart.style.left = Math.random() * 100 + '%';
          heart.style.top = '-50px';
          heart.style.animation = `fall ${3 + Math.random() * 2}s linear forwards`;
          container.appendChild(heart);
          
          setTimeout(() => heart.remove(), 5000);
        }, i * 100);
      }
    }

    // Add falling animation
    const style = document.createElement('style');
    style.textContent = `
      @keyframes fall {
        to {
          transform: translateY(120vh) rotate(720deg);
          opacity: 0;
        }
      }
    `;
    document.head.appendChild(style);

    // Create floating hearts background
    function createFloatingHearts() {
      const container = document.getElementById('hearts-bg');
      const hearts = ['ğŸ’•', 'ğŸ’—', 'â¤ï¸', 'ğŸ’–'];
      
      for (let i = 0; i < 15; i++) {
        const heart = document.createElement('div');
        heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
        heart.className = 'absolute opacity-20 text-2xl md:text-4xl';
        heart.style.left = Math.random() * 100 + '%';
        heart.style.top = Math.random() * 100 + '%';
        heart.style.animation = `float ${4 + Math.random() * 4}s ease-in-out infinite`;
        heart.style.animationDelay = `${Math.random() * 2}s`;
        container.appendChild(heart);
      }
    }

    createFloatingHearts();

    // Element SDK integration
    async function onConfigChange(cfg) {
      const crushName = document.getElementById('crush-name');
      const mainQuestion = document.getElementById('main-question');
      
      if (crushName) {
        crushName.textContent = cfg.crush_name || defaultConfig.crush_name;
      }
      if (mainQuestion) {
        mainQuestion.textContent = cfg.main_question || defaultConfig.main_question;
      }
    }

    function mapToCapabilities(cfg) {
      return {
        recolorables: [
          {
            get: () => cfg.background_start || defaultConfig.background_start,
            set: (value) => {
              cfg.background_start = value;
              window.elementSdk.setConfig({ background_start: value });
            }
          },
          {
            get: () => cfg.primary_color || defaultConfig.primary_color,
            set: (value) => {
              cfg.primary_color = value;
              window.elementSdk.setConfig({ primary_color: value });
            }
          },
          {
            get: () => cfg.text_color || defaultConfig.text_color,
            set: (value) => {
              cfg.text_color = value;
              window.elementSdk.setConfig({ text_color: value });
            }
          }
        ],
        borderables: [],
        fontEditable: {
          get: () => cfg.font_family || 'Quicksand',
          set: (value) => {
            cfg.font_family = value;
            window.elementSdk.setConfig({ font_family: value });
          }
        },
        fontSizeable: undefined
      };
    }

    function mapToEditPanelValues(cfg) {
      return new Map([
        ['crush_name', cfg.crush_name || defaultConfig.crush_name],
        ['main_question', cfg.main_question || defaultConfig.main_question]
      ]);
    }

    // Initialize SDK
    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9c61e11e10c3411d',t:'MTc2OTc4NTY1MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
